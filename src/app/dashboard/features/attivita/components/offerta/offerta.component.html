<div class="col-md-8 mx-auto">

    <div class="text-center mb-5">
        <h1 class="display-6">Gestione Offerta</h1>
        <p class="lead">Da questo componente puoi creare/aggiornare l'Offerta legata alla Commessa.</p>
    </div>

    <fieldset class="flexgrid flexgrid--2" [disabled]="!offerta">

        <app-input
            type="select"
            name="tipologia"
            label="Tipologia"
            [ngControl]="tipologiaCtrl"
            [options]="tipologie"
            [floatingLabel]="true"
            [disabled]="!!offerta?.idTipoOfferta"
        ></app-input>

        <app-input
            type="date"
            name="dataOfferta"
            label="Data offerta *"
            [ngControl]="dataOffertaCtrl"
            [floatingLabel]="true"
            [disabled]="!!offerta?.dataOfferta"
        ></app-input>

        <app-input
            type="date"
            name="dataAccettazione"
            label="Data accettazione"
            [ngControl]="dataAccettazioneCtrl"
            [floatingLabel]="true"
        ></app-input>

        <app-input
            name="nrOrdine"
            label="Nr. ordine"
            [ngControl]="nrOrdineCtrl"
            [floatingLabel]="true"
        ></app-input>

        <app-input
            name="codDocumento"
            label="Codice documento"
            [ngControl]="codDocumentoCtrl"
            [floatingLabel]="true"
            [disabled]="true"
        ></app-input>

        <app-input
            name="codIdentificativo"
            label="Codice identificativo"
            [ngControl]="codIdentificativoCtrl"
            [floatingLabel]="true"
            [disabled]="true"
        ></app-input>
    </fieldset>

    <p class="text-muted">L'Opportunit√† necessita di un'Offerta con Data Accettazione valorizzata per permetterti di passare alle Sottocommesse.</p>

    <div class="text-center my-4">

        <button
            *rbacAllow="[
                ROLES.RESPONSABILE_COMMERCIALE,
                ROLES.CONTROLLER,
                ROLES.SEGRETERIA,
                ROLES.AMMINISTRATORE,
                attivitaNavState.userBmRole
            ]"
            class="btn btn-primary btn-lg shadow"
            [disabled]="!offerta || !dataOffertaCtrl.value"
            (click)="upsert()"
        >
            Salva
            <i class="bi bi-save ps-2"></i>
        </button>
    </div>
</div>
